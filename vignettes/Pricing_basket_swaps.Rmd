---
title: "Pricinga a basket of swaps"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Pricing_basket_swaps}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo = FALSE}
`%>%` <- magrittr::`%>%`
`%<>%` <- magrittr::`%<>%`
```

```{r setup}
library(SwapPricer)

today <- lubridate::ymd(20190414)

df.table <- SwapPricer:::ir.curve %>% 
  dplyr::mutate(`Maturity Date` = lubridate::mdy(`Maturity Date`)) %>% 
  dplyr::rowwise(.) %>% 
  dplyr::mutate(t2m = RQuantLib::yearFraction(today, `Maturity Date`, 6)) %>% 
  na.omit %>% 
  dplyr::select(t2m, Discount) %>%
  dplyr::rename(df = Discount) %>% 
  dplyr::ungroup(.) %>% 
  dplyr::bind_rows(c(t2m = 0,df = 1)) %>% 
  dplyr::arrange(t2m)

# Swaps_basket %>% 
#   SwapPortfolioPricing(today, df.table)
```
