USD.curves$currency <- "USD"
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
..1
list(...)
...
purrr::pluck(list(...), "currency")
purrr::pluck(list(...), 1)
purrr::modify_depth(list(...), 2, "currency")
purrr::modify_depth(list(...), 1, "currency")
purrr::map(list(...), ~purrr::has_element(.x, "EUR"))
purrr::detect_index(list(...), "EUR")
purrr::detect(list(...), function(x) purrr::map(x, ~purrr::has_element.x, "EUR"))
purrr::detect(list(...), function(x) purrr::map(x, ~purrr::has_element(.x, "EUR")))
purrr::map(list(...), ~purrr::has_element(.x, "EUR"))
purrr::map(list(...), ~purrr::has_element(.x, "EUR")) %>% unlist
list(...)[purrr::map(list(...), ~purrr::has_element(.x, "EUR")) %>% unlist]
list(...)[purrr::map(list(...), ~purrr::has_element(.x, "EUR")) %>% unlist]$discount
list(...)[purrr::map(list(...), ~purrr::has_element(.x, "EUR")) %>% unlist][discount]
list(...)[purrr::map(list(...), ~purrr::has_element(.x, "EUR")) %>% unlist]["discount"]
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
swap
list(...)[purrr::map(list(...),
~purrr::has_element(.x, "EUR")) %>%
unlist]
list(...)
floating.history
swap
swap.dates
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
list(...)
library(SwapPricer)
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
curves <- list(...)
View(curves)
curves
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
curves %>%
purrr::map(~purrr::has_element(.x, swap$currency) %>% unlist)
curves
curves %>% purrr::set_names(purrr::map(., "currency"))
library(SwapPricer)
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
purrr::set_names(list(...), purrr::map(list(...), "currency"))
curves[swap$currency]
curves[swap$currency]$discount
curves[swap$currency]
curves[swap$currency]["discount"]
curves[swap$currency] %>% .data$discount
swap$currency
curves["EUR"]["discount"]
purrr::pluck(curves["EUR"], "discount")
df.table <- curves[swap$currency]$discount
curves[swap$currency]
purrr::flatten(curves[swap$currency])
purrr::flatten(curves[swap$currency])$discount
library(SwapPricer)
SwapPortfolioPricing(test, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
SwapPortfolioPricing(SwapPricer:::rerealworld.portfolio, lubridate::ymd(20190414), EUR.curves)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
library(SwapPricer)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
unique(floating.rate$currency)
grepl("EUR",unique(floating.rate$currency))
!grepl("EUR",unique(floating.rate$currency))
library(SwapPricer)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
floating.history
swap$currency
library(SwapPricer)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
floating.history <- floating.history[
grepl(swap$currency, floating.history$currency) &
floating.history$time.unit == swap$time.unit[[leg.type]], "rate.data"]
View(floating.history)
tidyr::unnest(floating.history)
floating.history
floating.history[1]
floating.history[[1]]
floating.history$rate.data
purrr::flatten(floating.history$rate.data)
A <- purrr::flatten(floating.history$rate.data)
View(A)
A[[1]]
A <- purrr::flatten(floating.history$rate.data)[[1]]
View(A)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
floating.history[
grepl(swap$currency, floating.history$currency) &
floating.history$time.unit == swap$time.unit[[leg.type]], "rate.data"] %>%
{purrr::flatten(.data$rate.data)[[1]]}
floating.history[
grepl(swap$currency, floating.history$currency) &
floating.history$time.unit == swap$time.unit[[leg.type]], "rate.data"]
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
purrr::flatten(floating.history$rate.data)[[1]]
floating.history[floating.history$date %in%
swap.dates$fixing.date,]
library(SwapPricer)
SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
library(SwapPricer)
library(SwapPricer)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
library(SwapPricer)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
library(SwapPricer)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), EUR.curves)})
library(SwapPricer)
View(test)
write.csv(test)
?write.csv
write.csv(test, file = "input")
SwapPricer:::swap.standard
SwapPricer:::swap.standard.calendar
library(readr)
swap_portfolio <- read_csv("input.csv")
View(swap_portfolio)
swap.basket <- swap_portfolio
usethis::use_data(swap.basket, overwrite = TRUE)
usethis::use_data(EUR.curves)
usethis::use_data(GBP.curves)
usethis::use_data(USD.curves)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
cashflows
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
floating.rate
swap.portfolio
floating.rate
floating.rate %>% na.omit
floating.rate %>% na.omit(.)
floating.rate[!is.na(min.date),]
floating.rate[!is.na(floating.rate$min.date),]
floating.rate[is.na(floating.rate$min.date),]
floating.rate[3,3
]
tibble::tibble(currency = currency,
time.unit = time.unit,
fixing.date = fixing.date) %>%
dplyr::group_by(currency, time.unit) %>%
dplyr::summarise(min.date = min(fixing.date),
max.date = max(fixing.date)) %>%
dplyr::left_join(swap.standard.rates, by = c("currency", "time.unit")) %>%
dplyr::ungroup()
Quandl::Quandl("BOF/QS_D_IEUTIO1A", start_date = NA, end_date = NA)
floating.rate[3,3
]
floating.rate[3,3]
is.na(floating.rate[3,3])
typeof(floating.rate[3,3])
unlist(floating.rate[3,3])
floating.rate[grepl("NA", floating.rate$min.date),]
floating.rate[!grepl("NA", floating.rate$min.date),]
floating.rate[!floating.rate$min.date == -Inf,]
floating.rate[!floating.rate$min.date == Inf,]
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
unique(floating.rate$currency)
floating.rate$currency
unique(floating.rate$currency)
base::setdiff(unique(floating.rate$currency), "EUR")
length(base::setdiff(unique(floating.rate$currency), "EUR"))
setdiff("EUR","EUR")
length(setdiff("EUR","EUR"))
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
floating.rate
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
tibble::tibble(currency = currency,
time.unit = time.unit,
fixing.date = fixing.date)
floating.rate <- tibble::tibble(currency = currency,
time.unit = time.unit,
fixing.date = fixing.date)
floating.rate %>% na.omit
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
library(SwapPricer)
SwapPortfolioPricing(swap.basket, lubridate::ymd(20190414), EUR.curves, GBP.curves, USD.curves)
tibble::tibble(currency = currency,
time.unit = time.unit,
fixing.date = fixing.date) %>%
stats::na.omit(.data)
floating.rate
length(setdiff(unique(floating.rate$currency), "EUR"))
floating.rate[!grepl("EUR", floating.rate$currency), "max.date"] %>%
purrr::reduce(c) %>%
max
check
today - 7
library(SwapPricer)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
View(test)
library(readr)
USD_curve <- read_csv("~/Documents/Curious FRM/Curious FRM Blog/data/Basket of IRS/USD Curve at 140419.csv")
View(USD_curve)
SwapPricer:::swap.standard.calendar
curve <- list(currency = "USD", discounting = USD_curve)
today <- lubridate::dmy(14042019)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
currency
swap.standard.calendar[
grepl(currency,  swap.standard.calendar$currency),][["lag"]]
-lag
RQuantLib::advance(calendar = calendar,
dates = accrual.date,
n = -lag,
timeUnit = 0,
bdc = 1,
emr = TRUE)
accrual.date
currency
swap.standard.calendar[
grepl(currency,  swap.standard.calendar$currency),][["lag"]]
accrual.date
RQuantLib::advance(calendar = calendar,
dates = accrual.date,
n = -lag,
timeUnit = 0,
bdc = 1,
emr = TRUE)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
usethis::use_gpl3_license()
usethis::use_gpl3_license(name = "Davide Magno")
SwapPricer::EUR.curves
load("~/Documents/R/Pricingverse/SwapPricer/data/EUR.curves.rda")
View(EUR.curves)
SwapPricer:::swap.standard
SwapPricer:::swap.standard
library(SwapPricer)
SwapPricer:::swap.standard
BootstrapR::USD.curve
test
USD.curves <- BootstrapR::USD.curve
GBP.curves <- BootstrapR::GBP.curve
EUR.curves
USD.curves
USD.curves <- BootstrapR::USD.curve
USD.curves
BootstrapR::GBP.curve
BootstrapR::GBP.curve
library(BootstrapR)
BootstrapR::GBP.curve
load("~/Documents/R/Pricingverse/SwapPricer/data/GBP.curve.rda")
load("~/Documents/R/Pricingverse/SwapPricer/data/USD.curve.rda")
GBP.curve
GBP.curves
GBP.curves <- GBP.curve
USD.curves <- USD.curve
usethis::use_data(GBP.curves, overwrite = TRUE)
usethis::use_data(USD.curves, overwrite = TRUE)
library(SwapPricer)
GBP.curves
USD.curves
EUR.curves
today <- lubridate::ymd(20190414)
SwapPricer::swap.basket
SwapPortfolioPricing(SwapPricer::swap.basket, today, SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, today, SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
curves
purrr::flatten(curves[swap$currency])
purrr::flatten(curves[swap$currency])$discount
purrr::flatten(curves[swap$currency])
GBP.curves <- ImportCurve(BootstrapR::GBP.curve, lubridate::ymd(20190414))
GBP.curve
GBP.curves
ImportCurve
BootstrapR::ImportCurve
BootstrapR::ImportCurve
BootstrapR::ImportCurve
GBP.curves <- ImportCurve(BootstrapR::GBP.curve, lubridate::ymd(20190414))
GBP.curves <- BootstrapR::ImportCurve(BootstrapR::GBP.curve, lubridate::ymd(20190414))
library(readr)
USD_curve <- read_csv("~/Documents/R/Pricingverse/BootstrapR/USD_curve.csv")
View(USD_curve)
detach("package:BootstrapR", unload = TRUE)
USD_curve %>% select(-X1)
USD_curve %>% dplyr::select(-X1)
USD_curve %>% dplyr::select(-X1) %>% dplyr::select(t2m, df)
USD_curve %>% dplyr::select(-X1) %>% dplyr::select(t2m, df) %>% dplyr::rbind_all(c(0,1)) %>% dplyr::arrange(t2m)
USD_curve %>% dplyr::select(-X1) %>% dplyr::select(t2m, df) %>% rbind(c(0,1)) %>% dplyr::arrange(t2m)
USD.curves <- USD_curve %>% dplyr::select(-X1) %>% dplyr::select(t2m, df) %>% rbind(c(0,1)) %>% dplyr::arrange(t2m)
library(readr)
GBP_curve <- read_csv("~/Documents/R/Pricingverse/BootstrapR/GBP_curve.csv")
View(GBP_curve)
GBP.curves <- GBP_curve %>% dplyr::select(-X1) %>% dplyr::select(t2m, df) %>% rbind(c(0,1)) %>% dplyr::arrange(t2m)
usethis::use_data(GBP.curves, overwrite = TRUE)
usethis::use_data(USD.curves, overwrite = TRUE)
library(SwapPricer)
SwapPricer::EUR.curves
SwapPricer::GBP.curves
SwapPricer::USD.curves
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
df.table
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
swap$currency
curves
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
list(...)
SwapPricer::EUR.curves
SwapPricer::GBP.curves
GBP.curves <- list(currency = "GBP", discount = SwapPricer::GBP.curves)
View(GBP.curves)
USD.curves <- list(currency = "USD", discount = SwapPricer::USD.curves)
usethis::use_data(GBP.curves, overwrite = TRUE)
usethis::use_data(USD.curves, overwrite = TRUE)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
curves
df.table
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
SwapPricer::swap.basket
swap.basket <- SwapPricer::swap.basket
swap.basket[3,3]
a <- swap.basket$notional
a
> swap.basket
swap.basket
swap.basket$notional <- c(1.0e+07,1.0e+06,2.0e+06,7.5e+06,1.5e+07,1.0e+07,1.0e+06,2.0e+06,7.5e+06)
swap.basket
usethis::use_data(swap.basket, overwrite = TRUE)
library(SwapPricer)
SwapPricer::swap.basket
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
USD_curve <- read_csv("~/Documents/R/Pricingverse/BootstrapR/USD_curve.csv")
View(USD_curve)
USD.curves <- USD_curve %>% dplyr::select(-X1) %>% dplyr::select(Date, df)
USD.curves
USD.curves <- list(currency = "USD", discount = SwapPricer::USD.curves)
usethis::use_data(USD.curves, overwrite = TRUE)
GBP_curve <- read_csv("~/Documents/R/Pricingverse/BootstrapR/GBP_curve.csv")
GBP.curves <- GBP_curve %>% dplyr::select(-X1) %>% dplyr::select(Date, df)
GBP.curves <- list(currency = "GBP", discount = SwapPricer::GBP.curves)
usethis::use_data(GBP.curves, overwrite = TRUE)
load("~/Documents/R/Pricingverse/SwapPricer/data/EUR.curves.rda")
View(EUR.curves)
library(readr)
Curve <- read_csv("~/Documents/Curious FRM/Curious FRM Blog/data/Basket of IRS/Curve at 140419.csv",
col_types = cols(`Maturity Date` = col_date(format = "%m/%d/%Y")))
View(Curve)
EUR.curves <- Curve %>% dplyr::select(`Maturity Date`, df)
EUR.curves <- Curve %>% dplyr::select(`Maturity Date`, Discount)
colnames(EUR.curves) <- c("Date", "df")
EUR.curves <- list(currency = "EUR", discount = EUR.curves)
View(USD.curves)
View(EUR.curves)
USD.curves <- USD_curve %>% dplyr::select(-X1) %>% dplyr::select(Date, df)
View(USD.curves)
USD.curves <- list(currency = "USD", discount = USD.curves)
usethis::use_data(USD.curves, overwrite = TRUE)
GBP.curves <- GBP_curve %>% dplyr::select(-X1) %>% dplyr::select(Date, df)
GBP.curves <- list(currency = "GBP", discount = GBP.curves)
usethis::use_data(GBP.curves, overwrite = TRUE)
load("~/Documents/R/Pricingverse/SwapPricer/data/GBP.curves.rda")
View(GBP.curves)
library(SwapPricer)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
purrr::flatten(curves[swap$currency])$discount
curves
swap
Curve <- read_csv("~/Documents/Curious FRM/Curious FRM Blog/data/Basket of IRS/Curve at 140419.csv",
)
Curve
library(readr)
Curve <- read_csv("~/Documents/Curious FRM/Curious FRM Blog/data/Basket of IRS/Curve at 140419.csv",
col_types = cols(`Maturity Date` = col_date(format = "%m/%d/%Y")))
View(Curve)
EUR.curves <- Curve %>% dplyr::select(`Maturity Date`, Discount)
colnames(EUR.curves) <- c("Date", "df")
EUR.curves <- list(currency = "EUR", discount = EUR.curves)
usethis::use_data(EUR.curves, overwrite = TRUE)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
purrr::flatten(curves[swap$currency])$discount
swap
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
swap$type$pay
dcc <- dplyr::case_when(
grepl("fixed", swap$type$pay) ~ swap$dcc$pay,
grepl("fixed", swap$type$receive) ~ swap$dcc$receive
)
purrr::flatten(curves[swap$currency])$discount %>%
dplyr::mutate(yf = fmdates::year_frac(today, .data$Date, swap$dcc))
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
df.table
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
df.table
switch(swap$type$pay,
"fixed" = swap.dates$pay$cashflows,
"floating" = swap.dates$receive$cashflows)
switch(swap$type$pay,
"fixed" = swap.dates$pay$cashflows,
"floating" = swap.dates$receive$cashflows) %>%
dplyr::mutate(df = stats::approx(df.table$t2m, log(df.table$df), .data$yf) %>%
purrr::pluck("y") %>%
exp)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
df.table
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
results <- SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
View(results)
results
write.csv(results, "results.csv")
devtools::document()
library(SwapPricer)
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
View(results)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves))})
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)})
library(SwapPricer)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)})
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
curves
length(curves)
swap$currency
curves[swap$currency]
curves[swap$currency]$discount
curves[swap$currency]
curves
unlist(curves)
purrr::flatten(curves[swap$currency])
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
curves
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
curves
curves
length(curves)
A <- list(a = 2, b = 3)
exists(A$a)
?exists
exists(A)
exists("A")
exists("A$a")
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
results <- SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
tibble::is.tibble(curves$discount)
library(SwapPricer)
results <- SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)
profvis::profvis({SwapPortfolioPricing(SwapPricer:::realworld.portfolio, lubridate::ymd(20190414), SwapPricer::EUR.curves)})
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
currency
cashflows
write.csv(cashflows, "results.csv")
accrual.date
dcc
library(SwapPricer)
SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
swap.cf
A <- SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
View(A)
A <- SwapPortfolioPricing(SwapPricer::swap.basket, lubridate::ymd(20190414), SwapPricer::EUR.curves, SwapPricer::GBP.curves, SwapPricer::USD.curves)
cashflows
cashflows
cashflows
cashflows
cashflows
swap.cf
A <- swap.cf
View(A)
View(A)
4280.2553	-4712.329
-7630.278+	736.1111
